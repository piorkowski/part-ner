<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/html/public

    <Directory /var/www/html/public>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted

        DirectoryIndex index.php
    </Directory>

    <FilesMatch \.php$>
        SetHandler "proxy:fcgi://php:9000"
    </FilesMatch>

    Alias /uploads /var/www/html/public/uploads
    <Directory /var/www/html/public/uploads>
        Options -Indexes
        AllowOverride None
        Require all granted

        <FilesMatch "\.(jpg|jpeg|png|gif|ico|webp|svg|pdf|doc|docx|xls|xlsx)$">
            Require all granted
        </FilesMatch>
    </Directory>

    ErrorLog /usr/local/apache2/logs/error.log
    CustomLog /usr/local/apache2/logs/access.log combined

    LimitRequestBody 268435456

    ProxyTimeout 300
    Timeout 300
</VirtualHost>
