{% extends "base.html.twig" %}
{% block content %}
    <section class="module bg-dark-60 shop-page-header" {% if content.category_image %}data-background="{{ content.category_image.url }}"{% endif %}>
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-sm-offset-3">
                    <h2 class="module-title font-alt">{{ content.title }}</h2>
                    {% if content.description %}
                        <div class="module-subtitle font-serif">{{ content.description|striptags }}</div>
                    {% endif %}
                </div>
            </div>
        </div>
    </section>

    <section class="module-small">
        <div class="container">
            <form class="row" method="get">
                <div class="col-sm-4 mb-sm-20">
                    <select class="form-control" name="sort">
                        <option value="">{{ 'product.sort_default'|trans }}</option>
                        <option value="name-asc">{{ 'product.sort_name_asc'|trans }}</option>
                        <option value="name-desc">{{ 'product.sort_name_desc'|trans }}</option>
                        <option value="date-new">{{ 'product.sort_newest'|trans }}</option>
                    </select>
                </div>
                <div class="col-sm-5 mb-sm-20"></div>
                <div class="col-sm-3">
                    <button class="btn btn-block btn-round btn-g" type="submit">{{ 'product.apply'|trans }}</button>
                </div>
            </form>
        </div>
    </section>

    <hr class="divider-w">

    <section class="module-small">
        <div class="container">
            {% if content.products is defined and content.products is iterable and content.products|length > 0 %}
                <div class="row multi-columns-row">
                    {% for product in content.products %}
                        <div class="col-sm-6 col-md-4 col-lg-4">
                            <div class="shop-item">
                                <div class="shop-item-image">
                                    {% if product.images is defined and product.images|length > 0 %}
                                        <img src="{{ product.images[0].thumbnails['600x600'] ?? product.images[0].url }}" alt="{{ product.title }}"/>
                                    {% else %}
                                        <img src="{{ asset('build/images/placeholder.jpg') }}" alt="{{ product.title }}"/>
                                    {% endif %}
                                    <div class="shop-item-detail">
                                        <a href="{{ product.url }}" class="btn btn-round btn-b">{{ 'product.view_details'|trans }}</a>
                                    </div>
                                </div>
                                <h4 class="shop-item-title font-alt"><a href="{{ product.url }}">{{ product.title }}</a></h4>
                                {% if product.short_description is defined and product.short_description %}
                                    <p>{{ product.short_description|slice(0, 80) }}...</p>
                                {% endif %}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </section>
{% endblock %}

